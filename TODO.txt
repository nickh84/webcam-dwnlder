Code clean up
Proper pointer creation and freeing
Error handling
Image comparsion to check for duplicates
